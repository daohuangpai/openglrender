#include "Cube.h"
#include "..\OGL\util.h"
#include <math.h>
#include <boost/log/trivial.hpp>

namespace GLUI
{

	GLfloat cubeobjectverticesback[] = {
		//x,y,z = -0.5;
		-0.5f, 0.5f, -0.5f,  0.0f,  0.0f, -1.0f,-0.5f, 0.5f, -0.5f,
		-0.5f, -0.5f, -0.5f,  0.0f,  0.0f, -1.0f,-0.5f, -0.5f, -0.5f,
		0.5f,  -0.5f, -0.5f,  0.0f,  0.0f, -1.0f,0.5f,  -0.5f, -0.5f,
		0.5f,  -0.5f, -0.5f,  0.0f,  0.0f, -1.0f,0.5f,  -0.5f, -0.5f,
		0.5f,  0.5f, -0.5f,  0.0f,  0.0f, -1.0f,0.5f,  0.5f, -0.5f,
		-0.5f, 0.5f, -0.5f,  0.0f,  0.0f, -1.0f,-0.5f, 0.5f, -0.5f,
		//x,y,z = 0.5;
		-0.5f, -0.5f,  0.5f,  0.0f,  0.0f,  1.0f,-0.5f, -0.5f,  0.5f,
		-0.5f, -0.5f,  -0.5f,  0.0f,  0.0f,  1.0f,-0.5f, -0.5f,  -0.5f,
		-0.5f,  0.5f,  -0.5f,  0.0f,  0.0f,  1.0f,-0.5f,  0.5f,  -0.5f,
		-0.5f,  0.5f,  -0.5f,  0.0f,  0.0f,  1.0f,-0.5f,  0.5f,  -0.5f,
		-0.5f,  0.5f,  0.5f,  0.0f,  0.0f,  1.0f,-0.5f,  0.5f,  0.5f,
		-0.5f, -0.5f,  0.5f,  0.0f,  0.0f,  1.0f,-0.5f, -0.5f,  0.5f,

		0.5f, -0.5f, -0.5f, -1.0f,  0.0f,  0.0f,0.5f, -0.5f, -0.5f,
		0.5f, -0.5f, 0.5f, -1.0f,  0.0f,  0.0f,0.5f, -0.5f, 0.5f,
		0.5f, 0.5f, 0.5f, -1.0f,  0.0f,  0.0f,0.5f, 0.5f, 0.5f,
		0.5f, 0.5f, 0.5f, -1.0f,  0.0f,  0.0f,0.5f, 0.5f, 0.5f,
		0.5f, 0.5f, -0.5f, -1.0f,  0.0f,  0.0f,0.5f, 0.5f, -0.5f,
		0.5f, -0.5f,-0.5f, -1.0f,  0.0f,  0.0f,0.5f, -0.5f,-0.5f,

		-0.5f,  -0.5f,  0.5f,  1.0f,  0.0f,  0.0f,-0.5f,  -0.5f,  0.5f,
		-0.5f,  0.5f, 0.5f,  1.0f,  0.0f,  0.0f,-0.5f,  0.5f, 0.5f,
		0.5f, 0.5f, 0.5f,  1.0f,  0.0f,  0.0f,0.5f, 0.5f, 0.5f,
		0.5f, 0.5f, 0.5f,  1.0f,  0.0f,  0.0f,0.5f, 0.5f, 0.5f,
		0.5f, -0.5f, 0.5f,  1.0f,  0.0f,  0.0f,0.5f, -0.5f, 0.5f,
		-0.5f, -0.5f, 0.5f,  1.0f,  0.0f,  0.0f,-0.5f, -0.5f, 0.5f,

		-0.5f, 0.5f, -0.5f,  0.0f, -1.0f,  0.0f,-0.5f, 0.5f, -0.5f,
		0.5f, 0.5f, -0.5f,  0.0f, -1.0f,  0.0f,0.5f, 0.5f, -0.5f,
		0.5f, 0.5f,  0.5f,  0.0f, -1.0f,  0.0f,0.5f, 0.5f,  0.5f,
		0.5f, 0.5f,  0.5f,  0.0f, -1.0f,  0.0f,0.5f, 0.5f,  0.5f,
		-0.5f,0.5f,  0.5f,  0.0f, -1.0f,  0.0f,-0.5f,0.5f,  0.5f,
		-0.5f,0.5f, -0.5f,  0.0f, -1.0f,  0.0f,-0.5f,0.5f, -0.5f,

		-0.5f,  -0.5f, -0.5f,  0.0f,  1.0f,  0.0f,-0.5f,  -0.5f, -0.5f,
		-0.5f, - 0.5f, 0.5f,  0.0f,  1.0f,  0.0f,-0.5f, -0.5f, 0.5f,
		0.5f,  -0.5f,  -0.5f,  0.0f,  1.0f,  0.0f,0.5f,  -0.5f,  -0.5f,
		0.5f,  -0.5f,  -0.5f,  0.0f,  1.0f,  0.0f,0.5f,  -0.5f,  -0.5f,
		-0.5f,  -0.5f,  0.5f,  0.0f,  1.0f,  0.0f,-0.5f,  -0.5f,  0.5f,
		0.5f,  -0.5f, 0.5f,  0.0f,  1.0f,  0.0f ,0.5f,  -0.5f, 0.5f
	};

	GLfloat cubeobjectverticesfront[] = {
		//x,y,z = -0.5;
		-0.5f, 0.5f, -0.5f,  0.0f,  0.0f, -1.0f,-0.5f, 0.5f, -0.5f,
		0.5f,  -0.5f, -0.5f,  0.0f,  0.0f, -1.0f,0.5f,  -0.5f, -0.5f,
		-0.5f, -0.5f, -0.5f,  0.0f,  0.0f, -1.0f,-0.5f, -0.5f, -0.5f,
		0.5f,  -0.5f, -0.5f,  0.0f,  0.0f, -1.0f,0.5f,  -0.5f, -0.5f,
		-0.5f, 0.5f, -0.5f,  0.0f,  0.0f, -1.0f,-0.5f, 0.5f, -0.5f,
		0.5f,  0.5f, -0.5f,  0.0f,  0.0f, -1.0f,0.5f,  0.5f, -0.5f,
		//x,y,z = 0.5;
		-0.5f, -0.5f,  0.5f,  -1.0f,  0.0f,  0.0f,-0.5f, -0.5f,  0.5f,
		-0.5f,  0.5f,  -0.5f,  -1.0f,  0.0f,  0.0f,-0.5f,  0.5f,  -0.5f,
		-0.5f, -0.5f,  -0.5f,  -1.0f,  0.0f,  0.0f,-0.5f, -0.5f,  -0.5f,
		-0.5f,  0.5f,  -0.5f,  -1.0f,  0.0f,  0.0f,-0.5f,  0.5f,  -0.5f,
		-0.5f, -0.5f,  0.5f,  -1.0f,  0.0f,  0.0f,-0.5f, -0.5f,  0.5f,
		-0.5f,  0.5f,  0.5f,  -1.0f,  0.0f,  0.0f,-0.5f,  0.5f,  0.5f,

		0.5f, -0.5f, -0.5f, 1.0f,  0.0f,  0.0f,0.5f, -0.5f, -0.5f,
		0.5f, 0.5f, 0.5f, 1.0f,  0.0f,  0.0f,0.5f, 0.5f, 0.5f,
		0.5f, -0.5f, 0.5f, 1.0f,  0.0f,  0.0f,0.5f, -0.5f, 0.5f,
		0.5f, 0.5f, 0.5f, 1.0f,  0.0f,  0.0f,0.5f, 0.5f, 0.5f,
		0.5f, -0.5f,-0.5f, 1.0f,  0.0f,  0.0f,0.5f, -0.5f,-0.5f,
		0.5f, 0.5f, -0.5f, 1.0f,  0.0f,  0.0f,0.5f, 0.5f, -0.5f,

		-0.5f,  -0.5f,  0.5f,  0.0f,  1.0f,  0.0f,-0.5f,  -0.5f,  0.5f,
		0.5f, 0.5f, 0.5f,  0.0f,  0.0f,   1.0f,0.5f, 0.5f, 0.5f,
		-0.5f,  0.5f, 0.5f,  0.0f,  0.0f,   1.0f,-0.5f,  0.5f, 0.5f,
		0.5f, 0.5f, 0.5f,  0.0f,  0.0f,   1.0f,0.5f, 0.5f, 0.5f,
		-0.5f, -0.5f, 0.5f,  0.0f,  0.0f,   1.0f,-0.5f, -0.5f, 0.5f,
		0.5f, -0.5f, 0.5f,  0.0f,  0.0f,   1.0f,0.5f, -0.5f, 0.5f,

		-0.5f, 0.5f, -0.5f,  0.0f, 1.0f,  0.0f,-0.5f, 0.5f, -0.5f,
		0.5f, 0.5f,  0.5f,  0.0f, 1.0f,  0.0f,0.5f, 0.5f,  0.5f,
		0.5f, 0.5f, -0.5f,  0.0f, 1.0f,  0.0f,0.5f, 0.5f, -0.5f,
		0.5f, 0.5f,  0.5f,  0.0f, 1.0f,  0.0f,0.5f, 0.5f,  0.5f,
		-0.5f,0.5f, -0.5f,  0.0f, 1.0f,  0.0f,-0.5f,0.5f, -0.5f,
		-0.5f,0.5f,  0.5f,  0.0f, 1.0f,  0.0f,-0.5f,0.5f,  0.5f,

		-0.5f,  -0.5f, -0.5f,  0.0f,  -1.0f,  0.0f,-0.5f,  -0.5f, -0.5f,
		0.5f,  -0.5f,  -0.5f,  0.0f,  -1.0f,  0.0f,0.5f,  -0.5f,  -0.5f,
		-0.5f, -0.5f, 0.5f,  0.0f,  -1.0f,  0.0f,-0.5f, -0.5f, 0.5f,
		0.5f,  -0.5f,  -0.5f,  0.0f,  -1.0f,  0.0f,0.5f,  -0.5f,  -0.5f,
		0.5f,  -0.5f, 0.5f,  0.0f,  -1.0f,  0.0f ,0.5f,  -0.5f, 0.5f,
		- 0.5f,  -0.5f,  0.5f,  0.0f,  -1.0f,  0.0f,-0.5f,  -0.5f,  0.5f
	};

	void MakeCubeArrayBufferAccessFun(char* data, int size, void* param)
	{
		glm::vec3& shape = *(glm::vec3*)param;
		CubePointInfo* ptr = (CubePointInfo*)data;
		int len = size / sizeof(CubePointInfo);
		for (int i = 0; i < len; i++) {
			ptr[i].position[0] *= shape[0];
			ptr[i].position[1] *= shape[1];
			ptr[i].position[2] *= shape[2];

		}
	}


	bool MakeCubeArrayBuffer(glm::vec3 shape, std::shared_ptr<GLUI::buffer>& buffer)
	{
		if (!buffer->generate((char*)cubeobjectverticesback, sizeof(cubeobjectverticesback),
			GLUI::buffer::STATIC_DRAW, GLUI::buffer::ARRAY_BUFFER))
			return false;

		buffer->AccessData(MakeCubeArrayBufferAccessFun, &shape);
		return true;
	}

	bool MakeCubeArrayBufferFront(glm::vec3 shape, std::shared_ptr<GLUI::buffer>& buffer)
	{
		if (!buffer->generate((char*)cubeobjectverticesfront, sizeof(cubeobjectverticesfront),
			GLUI::buffer::STATIC_DRAW, GLUI::buffer::ARRAY_BUFFER))
			return false;

		buffer->AccessData(MakeCubeArrayBufferAccessFun, &shape);
		return true;
	}

}


/*
GLfloat cubeobjectvertices[] = {
//x,y,z = -0.5;
-0.5f, -0.5f, -0.5f,  0.0f,  0.0f, -1.0f,-0.5f, -0.5f, -0.5f,
0.5f, -0.5f, -0.5f,  0.0f,  0.0f, -1.0f,0.5f, -0.5f, -0.5f,
0.5f,  0.5f, -0.5f,  0.0f,  0.0f, -1.0f,0.5f,  0.5f, -0.5f,
0.5f,  0.5f, -0.5f,  0.0f,  0.0f, -1.0f,0.5f,  0.5f, -0.5f,
-0.5f,  0.5f, -0.5f,  0.0f,  0.0f, -1.0f,0.5f,  0.5f, -0.5f,
-0.5f, -0.5f, -0.5f,  0.0f,  0.0f, -1.0f,-0.5f, -0.5f, -0.5f,
//x,y,z = 0.5;
-0.5f, -0.5f,  0.5f,  0.0f,  0.0f,  1.0f,-0.5f, -0.5f,  0.5f,
0.5f, -0.5f,  0.5f,  0.0f,  0.0f,  1.0f,0.5f, -0.5f,  0.5f,
0.5f,  0.5f,  0.5f,  0.0f,  0.0f,  1.0f,0.5f,  0.5f,  0.5f,
0.5f,  0.5f,  0.5f,  0.0f,  0.0f,  1.0f,0.5f,  0.5f,  0.5f,
-0.5f,  0.5f,  0.5f,  0.0f,  0.0f,  1.0f,-0.5f,  0.5f,  0.5f,
-0.5f, -0.5f,  0.5f,  0.0f,  0.0f,  1.0f,-0.5f, -0.5f,  0.5f,

-0.5f,  0.5f,  0.5f, -1.0f,  0.0f,  0.0f,-0.5f,  0.5f,  0.5f,
-0.5f,  0.5f, -0.5f, -1.0f,  0.0f,  0.0f,-0.5f,  0.5f, -0.5f,
-0.5f, -0.5f, -0.5f, -1.0f,  0.0f,  0.0f,-0.5f, -0.5f, -0.5f,
-0.5f, -0.5f, -0.5f, -1.0f,  0.0f,  0.0f,-0.5f, -0.5f, -0.5f,
-0.5f, -0.5f,  0.5f, -1.0f,  0.0f,  0.0f,-0.5f, -0.5f,  0.5f,
-0.5f,  0.5f,  0.5f, -1.0f,  0.0f,  0.0f,-0.5f,  0.5f,  0.5f,

0.5f,  0.5f,  0.5f,  1.0f,  0.0f,  0.0f,0.5f,  0.5f,  0.5f,
0.5f,  0.5f, -0.5f,  1.0f,  0.0f,  0.0f,0.5f,  0.5f, -0.5f,
0.5f, -0.5f, -0.5f,  1.0f,  0.0f,  0.0f,0.5f, -0.5f, -0.5f,
0.5f, -0.5f, -0.5f,  1.0f,  0.0f,  0.0f,0.5f, -0.5f, -0.5f,
0.5f, -0.5f,  0.5f,  1.0f,  0.0f,  0.0f,0.5f, -0.5f,  0.5f,
0.5f,  0.5f,  0.5f,  1.0f,  0.0f,  0.0f,0.5f,  0.5f,  0.5f,

-0.5f, -0.5f, -0.5f,  0.0f, -1.0f,  0.0f,-0.5f, -0.5f, -0.5f,
0.5f, -0.5f, -0.5f,  0.0f, -1.0f,  0.0f,0.5f, -0.5f, -0.5f,
0.5f, -0.5f,  0.5f,  0.0f, -1.0f,  0.0f,0.5f, -0.5f,  0.5f,
0.5f, -0.5f,  0.5f,  0.0f, -1.0f,  0.0f,0.5f, -0.5f,  0.5f,
-0.5f, -0.5f,  0.5f,  0.0f, -1.0f,  0.0f,-0.5f, -0.5f,  0.5f,
-0.5f, -0.5f, -0.5f,  0.0f, -1.0f,  0.0f,-0.5f, -0.5f, -0.5f,

-0.5f,  0.5f, -0.5f,  0.0f,  1.0f,  0.0f,-0.5f,  0.5f, -0.5f,
0.5f,  0.5f, -0.5f,  0.0f,  1.0f,  0.0f,0.5f,  0.5f, -0.5f,
0.5f,  0.5f,  0.5f,  0.0f,  1.0f,  0.0f,0.5f,  0.5f,  0.5f,
0.5f,  0.5f,  0.5f,  0.0f,  1.0f,  0.0f,0.5f,  0.5f,  0.5f,
-0.5f,  0.5f,  0.5f,  0.0f,  1.0f,  0.0f,-0.5f,  0.5f,  0.5f,
-0.5f,  0.5f, -0.5f,  0.0f,  1.0f,  0.0f ,- 0.5f,  0.5f, -0.5f
};
*/